<!DOCTYPE html>
<html>
<head>
	<title>YT</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<style>
		*, *::before, *::after {
		    -webkit-box-sizing: border-box;
		    box-sizing: border-box;
		    font-family: 'Poppins', sans-serif;
		}
		body {
		    margin: 0;
		    font-family: "Open Sans", sans-serif;
		    font-size: 14px;
		    font-weight: 400;
		    line-height: 1.5;
		    color: #707070;
		    text-align: left;
		    background-color: #f1f1f1;
		    height: 100vh;
		}
		img{
			max-width: 500px;
		}
		.main-form{
			padding: 10px 10px 10px 10px;
		    flex-wrap: wrap;
		    display: flex;
		    justify-content: center; 
		}
		.main-form input{
			display: block;
			width: 100%; 
			background-color: #ffffffff;
		    border: none;
		    border-radius: #dadce0ff;
		    color: #000;
		    font-family: inherit;
		    font-size: inherit;
		    height: 100%;
		    outline: 0;
		    padding-inline-end: 10px;
		    padding-inline-start: 17px;
		    position: relative;
		    width: 100%;
		    border-radius: 17px; 
			height: 30px;	

		}
		#clear{
			background: #DD5144!important;
		}
		#convert, #clear{
			width: 100px;
			border: none;
			height: 30px;
			background-color: #4C8BF5; 
			margin-top:10px;
			margin-left:10px;
    		color: #fff!important;
		}
		.detail-form{
			padding: 0px 10px 10px 10px;
		}
		.detail-form img{
			width: 100%;
		}
		#title{
			margin: 2px 0px!important;
    		color: #000!important;
    		text-overflow: ellipsis;
		    white-space: nowrap;
		    overflow: hidden;
		}

		#formats{
			display: flex;
			flex-wrap:wrap;
		}
		#formats a:first-child{
			background-color: #4285F4!important;
			color: #fff!important;
		}
		#formats a{
		    width: 48%;
		    font-size: 12px!important;
		    box-shadow: 0 0.75rem 1.5rem rgb(18 38 63 / 3%) !important;
		    background: #fff;
		    margin: 2px;
		    text-align: center;
		    padding: 3px;
		    text-decoration: none;
    		color: #000;
		}
		.copyright{
			position: fixed;
			bottom: 0;
			background-color: #FFCD46;
			box-shadow: 0px 0px 20px rgb(0 0 0 / 10%);
			display: block;
			width: 100%;
			color: #000;
			text-align: center;
			padding: 5px 0px;
		}
		.toptitle{
			position: fixed;
			top: 0;
			background-color: #fff;
			box-shadow: 0px 0px 20px rgb(0 0 0 / 10%);
			display: block;
			width: 100%;
			color: #000;
			text-align: center;
			padding: 5px 0px;
			z-index: 10;
		}
		.novideo{
			background-color: white;
			color: #000;
			text-align: center;
			padding: 30px 10px;
			margin: 10px;
			display: none;
			font-size: 14px;
		}
		.processing{
			background-color: white;
			color: #000;
			text-align: center;
			padding: 10px 10px;
			margin: 10px;
			font-size: 14px;
			display: none;
		}
		.tabs{
			display: flex;
			justify-content: center;
			align-items: center; 
			box-shadow :0px 0px 20px rgb(0 0 0 / 10%);
		}
		.tabs p{
			width: 50%;
			text-align: center;
			background: #fff;  
			margin: 0px;
			padding: 10px 0px; 
    		color: #000;
    		font-weight: bold;
		} 
		table {
		  border-collapse: collapse;
		  width: 100%;
		  text-align: center;
		}


		th, td {
		  text-align: left;
		  padding: 8px;
		  text-align: center;
			color: #000; 
		} 
		tr:nth-child(even) {
			background-color: #e3e3e3;
		}
		thead tr{
			box-shadow :0px 0px 20px rgb(0 0 0 / 10%);
			background-color: #1DA462;
			color: #000; 
		}
		.downloadbtn{
			text-decoration: none;
			background-color: #4C8BF5;
			color: #000;
			padding: 3px 10px;
    		border-radius: 14px;
		}
		.output{ 
		  display: none;
		}
		.bg-green{
			background:#1da462!important;
			color: #000!important;
		}
		.top-two{
			margin-top:32px;
			display: flex;  
		}
		.top-two a{
			width: 50%;
			text-align: center;
			text-decoration: none;
			padding: 3px 0px;
		}
		.top-two .Youtube{
			background:#FF0000;
			color: #fff;
			box-shadow: 0px 0px 28px rgb(0 0 0);
		}
		.top-two .Instagram{
		  	background: #fff;  
		 } 
	</style>
</head>
<body>
	<div class="containerh">
	<div class="toptitle"> Video Downloader </div>
	<div class="top-two">
		<a  class="Youtube">Youtube</a>
		<a href="insta.html" class="Instagram">Instagram</a> 
	</div>

	<div class="main-form">
		<input type="text" id="url" placeholder="Enter youtube link here...">
	    <button id="clear">clear</button>
	    <button id="convert">submit</button>
	</div>
	</div>
	<div class="novideo">
		<p>No Video Found in this url. Please check it once. Thank You.</p>
	</div> 
	<div class="processing">
		<p>Processing...</p>
	</div> 
	<div class="detail-form">
		<p id="title"></p>
		<img id="image">
		<div id="formats"></div>
	</div>

	<div class="tabs">
		<p class="output videoact">Video</p>
		<p class="output audioact">Audio</p> 
	</div>

	<table class="output">	
		<thead>
			<tr>
				<th>Name</th>
				<th>Format</th>
				<th>Size</th>
			</tr>
		</thead>
		<tbody id="avdiv">
			
		</tbody>
	</table>

	

	<div class="copyright"> Developed by Mr Xdin </div>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script type="text/javascript">
	$('#convert').click(function(){
		$('.novideo').hide(); 
		$('.output').hide();
		$('.processing').show();
		let url = $('#url').val();
		
		// const data = { url : url };
		$('#title').html('');
		$('#image').hide('');
		$('#formats').html('');
		hitfun(url);
		return;
		fetch('https://ssyoutube.com/api/convert', {
		  method: 'POST',
		  headers: {
		    'Content-Type': 'application/json',
		  },
		  body: JSON.stringify(data),
		})
		  .then((response) => response.json())
		  .then((data) => {
			$('.processing').hide();
		    if(!data.hasOwnProperty('cipher')){
		    	if(data.hasOwnProperty('hosting')){
		    		if(data.hosting == 'instagram.com') showData(data);
		    		else $('.novideo').show();
		    	} 
		    	else $('.novideo').show();
		    }
		    else{
		    	showData(data);
		    }
		  })
		  .catch((error) => {
		$('.processing').hide();
		    $('.novideo').show();
		    $('.output').hide();
		});
	});

		let video = '';
		let audio = '';
	function showData(data){
		video = '';
		audio = '';
		$('.processing').hide();
		let title = data.title;
		let image = data.thumbnail;
		let formats = data.medias;
		$('#title').text(title);
		$('#image').attr('src', image);
		$('#image').show('500');
		// console.log(formats);
		// return;
		$('#avdiv').html(''); 
		for(let i=0; i < formats.length; i++){
			formatsData = formats[i];
			if(formatsData.audioAvailable && formatsData.videoAvailable == false ){
				audio += `<tr>
					<td>${formatsData.quality}</td>
					<td>${formatsData.extension}</td>
					<td><a class="downloadbtn" href="${formatsData.url}" target="_blank" download="${formatsData.url}"> ${formatsData.formattedSize} </a></td>
				</tr>`;
			}
			else{
				video += `<tr>
					<td>${formatsData.quality} ${formatsData.audioAvailable ? 'ðŸ”Š':'ðŸ”‡'}</td>
					<td>${formatsData.extension}</td>
					<td><a class="downloadbtn" href="${formatsData.url}" target="_blank" download="${formatsData.url}"> ${formatsData.formattedSize} </a></td>
				</tr>`;	
			} 
		}

		if(video == ''){
			video = `<tr><td colspan="3"> No Video Data Found </td></tr>`;
		}
		if(audio == ''){
			audio = `<tr><td colspan="3"> No Audio Data Found </td></tr>`;
		}


		$('#avdiv').append(video);
		$('.output').show();
		$('.videoact').addClass('bg-green');
	}

	$('#clear').click(function(){
		$('#url').val('');
		$('#title').html('');
		$('#image').hide('');
		$('#formats').html('');
		$('.output').hide();
	});

	$('.videoact').click(function(){
		$('#avdiv').html('');
		$('#avdiv').append(video);
		$(this).addClass('bg-green');
		$('.audioact').removeClass('bg-green');
	});
	$('.audioact').click(function(){
		$('#avdiv').html('');
		$('#avdiv').append(audio);
		$(this).addClass('bg-green');
		$('.videoact').removeClass('bg-green');
	});

	// hitfun();

	function hitfun(url){ 
		const payload = { url : url, token:"aa7a97b48dea83a31f31e864c3cdc71083e1625e986d2358619642a0dee6600c" }; 
		fetch('https://givefastlink.com/wp-json/aio-dl/video-data/', {
		  method: 'POST',
		  headers: {
		    'Content-Type': 'application/json',
		  },
		  body: JSON.stringify(payload),
		})
		  .then((response) => response.json())
		  .then((data) => {
			$('.processing').hide(); 
		    if(data.hasOwnProperty('error')){
		    	$('.novideo').show();
		    }
		    else{
		    	showData(data);
		    }
		  })
		  .catch((error) => {
		$('.processing').hide();
		    $('.novideo').show();
		  });
	}
</script>
</html>
